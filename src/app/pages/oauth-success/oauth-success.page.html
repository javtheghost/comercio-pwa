<ion-content class="oauth-content">
  <div class="oauth-container">
    <div class="oauth-icon" *ngIf="loading">
      <ion-spinner name="crescent"></ion-spinner>
    </div>

    <div class="oauth-icon" *ngIf="!loading && success">
      <ion-icon name="checkmark-circle" color="success" size="large"></ion-icon>
    </div>

    <div class="oauth-icon" *ngIf="!loading && !success">
      <ion-icon name="close-circle" color="danger" size="large"></ion-icon>
    </div>

    <h2 *ngIf="loading">Procesando login...</h2>
    <h2 *ngIf="!loading && success">¡Login exitoso!</h2>
    <h2 *ngIf="!loading && !success">Error en el login</h2>

    <p *ngIf="!loading && success">Redirigiendo al inicio...</p>
    <p *ngIf="!loading && !success">{{ errorMessage }}</p>

    <!-- Botón manual para cerrar y procesar login -->
    <div *ngIf="!loading && success" class="manual-actions">
      <p>Si no se redirige automáticamente:</p>
      <ion-button (click)="manualClose()" color="primary" fill="outline">
        Cerrar y continuar
      </ion-button>
      <ion-button (click)="forceLogin()" color="warning" fill="outline">
        Forzar Login (Debug)
      </ion-button>
    </div>
  </div>
</ion-content>
